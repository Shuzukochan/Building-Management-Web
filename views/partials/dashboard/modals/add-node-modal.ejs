<!-- Modal Add Node -->
<div class="modal fade" id="addNodeModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addNodeModalTitle"><i class="fas fa-plus-circle"></i> Th√™m node m·ªõi</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form action="/add-node" method="POST" id="addNodeForm">
        <div class="modal-body">
          <input type="hidden" name="roomId" id="addNodeRoomId">
          
          <div class="mb-3" id="roomInfoGroup">
            <label class="form-label">Ph√≤ng</label>
            <input type="text" class="form-control" id="addNodeRoomInfo" readonly>
          </div>
          
          <div class="mb-3" id="nodeTypeGroup">
            <label for="nodeType" class="form-label">Lo·∫°i node</label>
            <select class="form-select" id="nodeType" name="nodeType" required onchange="toggleCustomInput()">
              <option value="">Ch·ªçn lo·∫°i node</option>
              <option value="electricity">üîå ƒêi·ªán</option>
              <option value="water">üíß N∆∞·ªõc</option>
              <option value="custom">üîß T√πy ch·ªânh</option>
            </select>
          </div>
          
          <div class="mb-3" id="customNodeTypeGroup" style="display: none;">
            <label for="customNodeType" class="form-label">T√™n lo·∫°i node t√πy ch·ªânh</label>
            <input type="text" class="form-control" id="customNodeType" name="customNodeType" placeholder="VD: Kh√≠ gas, Nhi·ªát ƒë·ªô, v.v.">
          </div>
          
          <div class="mb-3">
            <label for="nodeId" class="form-label">Node ID</label>
            <input type="text" class="form-control" id="nodeId" name="nodeId" required placeholder="VD: node001, elec_01">
          </div>
          
          <div class="alert alert-info" id="nodeIdAlert">
            <i class="fas fa-info-circle"></i> 
            <strong>L∆∞u √Ω:</strong> Node ID ph·∫£i duy nh·∫•t trong ph√≤ng
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
          <button type="submit" class="btn btn-primary">Th√™m node</button>
        </div>
      </form>
    </div>
  </div>
</div> 