<script>
  // ==================== GLOBAL VARIABLES ====================
  
  // Firebase variables
  let database = null;
  let feedbackRef = null;
  let feedbackListener = null;
  
  // Biáº¿n toÃ n cá»¥c
  var allRooms = [];
  var filteredRooms = [];

  // Global variables for context menu
  var contextMenuRoomId = null;
  var contextMenuNodeId = null;
  
  // Variables for current managed node
  var currentManagedRoomId = null;
  var currentManagedNodeId = null;
  var currentManagedNodeType = null;

  // Variables for current managed phone
  var currentManagedPhoneRoomId = null;
  var currentManagedPhoneNumber = null;

  // Variables for notification
  var currentNotificationRoomId = null;
  var currentNotificationRoomNumber = null;
  var currentNotificationPhoneNumber = null;

  // ==================== UTILITY FUNCTIONS ====================



  // Debug test functions
  window.testManageModal = function() {
    console.log('ğŸ§ª Test function called');
    
    // Kiá»ƒm tra Bootstrap
    if (typeof bootstrap === 'undefined') {
      alert('âŒ Bootstrap chÆ°a Ä‘Æ°á»£c load!');
      console.error('Bootstrap is not defined');
      return;
    }
    console.log('âœ… Bootstrap loaded:', bootstrap);
    
    try {
      console.log('ğŸ§ª Testing openManageNodeModal...');
      openManageNodeModal('test_room', '101', 'test_node', 'electricity', '');
      console.log('âœ… openManageNodeModal completed');
    } catch (error) {
      console.error('âŒ Error in openManageNodeModal:', error);
      alert('Lá»—i: ' + error.message);
    }
  };

  // Debug function Ä‘á»ƒ test Firebase realtime
  window.testFirebaseRealtime = function() {
    console.log('ğŸ”¥ Testing Firebase Realtime...');
    console.log('Firebase available:', typeof firebase !== 'undefined');
    // Firebase variables initialized
    
    if (feedbackRef) {
      console.log('ğŸ“¡ Testing direct Firebase read...');
      feedbackRef.once('value').then(snapshot => {
        console.log('âœ… Firebase read successful:', snapshot.val());
      }).catch(error => {
        console.error('âŒ Firebase read failed:', error);
      });
    }
  };
</script> 